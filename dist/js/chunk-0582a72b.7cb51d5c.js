(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0582a72b"],{"0089":function(t,e,s){},"0f5f":function(t,e,s){"use strict";s("0089")},"1bd2":function(t,e,s){"use strict";s("9d3e")},"5cbe":function(t,e,s){t.exports=s.p+"img/recommend_bg.794b6628.jpg"},"81d5":function(t,e,s){},"8b0d":function(t,e,s){"use strict";s("81d5")},"8f45":function(t,e,s){},"9d3e":function(t,e,s){},a3c4:function(t,e,s){"use strict";s("e6e3")},b3d7:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("nav-bar",{staticClass:"nav-bar"},[s("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),s("tab",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixed,expression:"isTabFixed"}],ref:"tab1",staticClass:"tab-cont",attrs:{title:["新款","精选","流行"]},on:{itemaTab:t.itemaTab}}),s("scroll",{ref:"scroll",staticClass:"content",attrs:{probeType:3,pullUpLoad:!0},on:{scroll:t.backTopShow,loadMore:t.loadMore}},[s("home-swiper",{attrs:{banners:t.banners},on:{swiperImgLoad:t.swiperImgLoad}}),s("home-popular"),s("home-recommend",{attrs:{recommends:t.recommends}}),s("tab",{ref:"tab2",attrs:{title:["新款","精选","流行"]},on:{itemaTab:t.itemaTab}}),s("goos-list",{attrs:{goods:t.goods[t.tabType].list}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackShow,expression:"isBackShow"}],nativeOn:{click:function(e){return t.backClick(e)}}})],1)},a=[];function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r=s("6b75");function i(t){if(Array.isArray(t))return Object(r["a"])(t)}s("a4d3"),s("e01a"),s("d28b"),s("a630"),s("d3b7"),s("3ca3"),s("ddb0");function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var l=s("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t){return i(t)||c(t)||Object(l["a"])(t)||u()}var f=s("a7ac"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swiper",t._l(t.banners,(function(e){return s("swiper-item",[s("a",{attrs:{href:e.link}},[s("img",{attrs:{src:e.image},on:{load:t.swiperImgLoad}})])])})),1)},p=[],b=s("dc2c"),h={name:"HomeSwiper",props:{banners:{type:Array,default:function(){return[]}}},components:{SwiperItem:b["b"],Swiper:b["a"]},data:function(){return{isload:!1}},methods:{swiperImgLoad:function(){this.islode||(this.$emit("swiperImgLoad"),this.isload=!0)}}},v=h,g=s("2877"),w=Object(g["a"])(v,d,p,!1,null,"29f1dea3",null),_=w.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-recommend"},[s("div",{staticClass:"recommend"},t._l(t.recommends,(function(e){return s("div",{staticClass:"recommend-item"},[s("a",{attrs:{href:"",link:e.link}},[s("img",{attrs:{src:e.image,alt:""}})]),s("div",{staticClass:"title"},[t._v(t._s(e.title))])])})),0)])},y=[],$={name:"HomeRecommend",components:{},props:{recommends:{type:Array,defult:function(){return[]}}},methods:{}},I=$,k=(s("ff8a"),Object(g["a"])(I,T,y,!1,null,"1f081ef6",null)),O=k.exports,C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home-popular"},[o("div",{staticClass:"popular"},[o("img",{attrs:{src:s("5cbe"),alt:""}})])])}],j={name:"HomePopular",components:{},props:{}},L=j,S=(s("e7ae"),Object(g["a"])(L,C,x,!1,null,"24ca7c29",null)),E=S.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab"},t._l(t.title,(function(e,o){return s("div",{staticClass:"tab-item",class:{active:o===t.currIndex},on:{click:function(e){return t.itemaTab(o)}}},[s("span",[t._v(t._s(e))])])})),0)},A=[],H={name:"Tab",components:{},methods:{itemaTab:function(t){this.currIndex=t,this.$emit("itemaTab",t)}},props:{title:{type:Array,defult:function(){return[]}}},data:function(){return{currIndex:0}}},B=H,Y=(s("8b0d"),Object(g["a"])(B,G,A,!1,null,"53a6c8bf",null)),M=Y.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods-list"},t._l(t.goods,(function(t){return s("goods-list-item",{attrs:{listItem:t}})})),1)},P=[],N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods-list-item",on:{click:t.goodsIemClick}},[s("img",{attrs:{src:t.listItem.show.img,alt:""},on:{load:t.itemImgOnLoad}}),s("div",{staticClass:"goods-info"},[s("p",[t._v(t._s(t.listItem.title))]),s("span",{staticClass:"price"},[t._v(t._s("￥"+t.listItem.price))]),s("span",{staticClass:"collect"},[t._v(t._s(t.listItem.cfav))])])])},D=[],J={name:"GoodsListItem",props:{listItem:{type:Object,default:function(){return{}}}},components:{},methods:{itemImgOnLoad:function(){this.$bus.$emit("itemImgOnLoad")},goodsIemClick:function(){this.$router.push("/goodsinfo/"+this.listItem.iid)}}},R=J,U=(s("1bd2"),Object(g["a"])(R,N,D,!1,null,"60b90410",null)),q=U.exports,z={name:"GoodsList",props:{goods:{type:Array,default:function(){return[]}}},components:{GoodsListItem:q}},K=z,Q=(s("a3c4"),Object(g["a"])(K,F,P,!1,null,"1e9e3f11",null)),V=Q.exports,W=s("5d17"),X=s("1bab");function Z(){return Object(X["a"])({url:"/home/multidata"})}function tt(t,e){return Object(X["a"])({url:"/home/data",params:{type:t,page:e}})}var et,st=s("f8c8"),ot=(et={name:"Home",components:{NavBar:f["a"],HomeSwiper:_,HomeRecommend:O,HomePopular:E,Tab:M,GoosList:V,Scroll:W["a"],BackTop:st["a"]},activated:function(){this.$refs.scroll.bscroll.scrollTo(0,this.saveY,0),this.$refs.scroll.bscroll.refresh()},deactivated:function(){this.saveY=this.$refs.scroll.bscroll.getScrollY()},data:function(){return{banners:[],recommends:[],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},tabType:"pop",isBackShow:!1,tabOffsetTop:0,isTabFixed:!1,saveY:0}}},n(et,"activated",(function(){this.$refs.scroll.bscroll.scrollTo(0,this.saveY,0),this.$refs.scroll.bscroll.refresh()})),n(et,"deactivated",(function(){this.saveY=this.$refs.scroll.bscroll.y})),n(et,"created",(function(){this.homeMulData(),this.homeGoods("pop"),this.homeGoods("new"),this.homeGoods("sell")})),n(et,"mounted",(function(){var t=this;this.$bus.$on("itemImgOnLoad",(function(){t.$refs.scroll.bscroll&&t.$refs.scroll.bscroll.refresh()}))})),n(et,"methods",{homeMulData:function(){var t=this;Z().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},homeGoods:function(t){var e=this,s=this.goods[t].page+1;tt(t,s).then((function(s){var o;(o=e.goods[t].list).push.apply(o,m(s.data.list)),e.goods[t].page+=1,e.$refs.scroll.bscroll&&e.$refs.scroll.bscroll.finishPullUp()}))},itemaTab:function(t){switch(t){case 0:this.tabType="pop";break;case 1:this.tabType="new";break;case 2:this.tabType="sell";break}this.$refs.tab1.currIndex=t,this.$refs.tab2.currIndex=t},backClick:function(){this.$refs.scroll.bscroll&&this.$refs.scroll.bscroll.scrollTo(0,0,400)},backTopShow:function(t){this.isBackShow=-t.y>1e3,this.isTabFixed=-t.y>this.tabOffsetTop},loadMore:function(){this.homeGoods(this.tabType)},swiperImgLoad:function(){this.tabOffsetTop=this.$refs.tab2.$el.offsetTop}}),et),at=ot,nt=(s("0f5f"),Object(g["a"])(at,o,a,!1,null,"397462e8",null));e["default"]=nt.exports},e6e3:function(t,e,s){},e7ae:function(t,e,s){"use strict";s("f3e1")},f3e1:function(t,e,s){},ff8a:function(t,e,s){"use strict";s("8f45")}}]);
//# sourceMappingURL=chunk-0582a72b.7cb51d5c.js.map